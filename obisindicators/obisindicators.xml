<tool id="SRS_obisindicators" name="Ocean biodiversity indicators" version="@VERSION@" profile = "20.01">
    <description>from remote sensing data</description>
    <requirements>
        <requirement type="package" version="1.0_7">r-sf</requirement>
        <requirement type="package" version="3.3.6">r-ggplot2</requirement>
        <requirement type="package" version="1.0.9">r-dplyr</requirement>
        <requirement type="package" version="2.1_7.1">r-gsl</requirement>
        <requirement type="package" version="0.1.0">r-rnaturalearth</requirement>
        <requirement type="package" version="0.1.0">r-rnaturalearthdata</requirement>
        <requirement type="package" version="0.6.2">r-viridis</requirement>
        <requirement type="package" version="1.4_7">r-sp</requirement>
        <requirement type="package" version="1.0.2">r-rlang</requirement>
        
        
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        Rscript
            '$__tool_directory__/obisindicators.r'
            '$input_1'
            '$__tool_directory__/analyze.r'
            '$__tool_directory__/visualize.r'
            '$__tool_directory__/data.r'
            '$__tool_directory__/cwrapper.r'
            '$__tool_directory__/dggridr.r'
            '$output_index'
            '$plots'
        ]]>
    </command>
    <inputs>
        <param name="input_1" type="data" format="binary" label="Input raster"/>
    </inputs>
    <outputs>
        <data name="output_index" from_work_dir="Index.csv" format="csv" label="Shannon Index">
        </data>
        <collection type="list" name="plots">
            <discover_datasets pattern="(?P&lt;designation&gt;.+)\.png" visible="false" format="png"/>
        </collection>
    </outputs>
    <tests>
        <test>
        </test>
    </tests>
    <help><![CDATA[
]]>    </help>

</tool>
